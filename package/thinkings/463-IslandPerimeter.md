# 岛屿的周长

给定一个 row x col 的二维网格地图 grid ，其中：grid[i][j] = 1 表示陆地， grid[i][j] = 0 表示水域。

网格中的格子 水平和垂直 方向相连（对角线方向不相连）。整个网格被水完全包围，但其中恰好有一个岛屿（或者说，一个或多个表示陆地的格子相连组成的岛屿）。

岛屿中没有“湖”（“湖” 指水域在岛屿内部且不和岛屿周围的水相连）。格子是边长为 1 的正方形。网格为长方形，且宽度和高度均不超过 100 。计算这个岛屿的周长。

示例 1：
![1](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/12/island.png)

```js
输入：grid = [[0,1,0,0],[1,1,1,0],[0,1,0,0],[1,1,0,0]]
输出：16
解释：它的周长是上面图片中的 16 个黄色的边
```

示例 2：

```js
输入：grid = [[1]]
输出：4
```

示例 3：

```js
输入：grid = [[1,0]]
输出：4
```

提示：

- row == grid.length
- col == grid[i].length
- 1 <= row, col <= 100
- grid[i][j] 为 0 或 1

思路：

对于计算岛屿周长的问题，我们可以通过深度优先搜索（DFS）来解决。每一块陆地（grid[i][j] = 1）的周长贡献是 4 减去它相邻的陆地数量。原解法采用了 DFS 的思路，通过定义四个方向的偏移量（dx 和 dy），对网格进行遍历，当遇到陆地时，从该陆地开始进行深度优先搜索，计算该块陆地及其相连陆地的周长贡献。

1. 首先定义了四个方向的偏移量 dx 和 dy，分别表示向右、向下、向左、向上的偏移。同时获取了网格的行数 n 和列数 m。
2. 定义了深度优先搜索函数 dfs(x, y)：
   - 当(x, y)越界或者该位置是水域（grid[x][y] === 0）时，返回 1，因为这表示当前陆地块在这个方向上的边界贡献为 1。
   - 当 grid[x][y] === 2 时，表示该位置已经被访问过，返回 0，因为不需要重复计算。
   - 将 grid[x][y]标记为 2，表示已访问。
   - 初始化变量 res 为 0，用于累计当前陆地块及其相连陆地块的周长贡献。
   - 通过循环遍历四个方向，计算相邻位置(tx, ty)的周长贡献，并累加到 res 中。
   - 最后返回 res。
3. 在主函数中，初始化变量 ans 为 0，用于存储岛屿的总周长。
4. 通过两层嵌套循环遍历整个网格，当遇到陆地（grid[i][j] === 1）时，调用 dfs(i, j)并将返回值累加到 ans 中。
5. 最后返回 ans，即岛屿的周长。

时间复杂度：在最坏情况下，可能需要遍历整个网格，每个格子最多被访问一次，时间复杂度为 O(n _ m)，其中 n 是网格的行数，m 是网格的列数。
空间复杂度：由于使用了递归进行深度优先搜索，最坏情况下递归栈的深度可能达到网格的大小，空间复杂度为 O(n _ m)。

```js
var islandPerimeter = function (grid) {
  const dx = [0, 1, 0, -1];
  const dy = [1, 0, -1, 0];
  const n = grid.length,
    m = grid[0].length;

  const dfs = (x, y) => {
    if (x < 0 || x >= n || y < 0 || y >= m || grid[x][y] === 0) {
      return 1;
    }
    if (grid[x][y] === 2) {
      return 0;
    }
    grid[x][y] = 2;
    let res = 0;
    for (let i = 0; i < 4; ++i) {
      const tx = x + dx[i];
      const ty = y + dy[i];
      res += dfs(tx, ty);
    }
    return res;
  };

  let ans = 0;
  for (let i = 0; i < n; ++i) {
    for (let j = 0; j < m; ++j) {
      if (grid[i][j] === 1) {
        ans += dfs(i, j);
      }
    }
  }
  return ans;
};
```
