# 只出现一次的数字 II

给你一个整数数组 nums ，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次 。请你找出并返回那个只出现了一次的元素。

你必须设计并实现线性时间复杂度的算法且使用常数级空间来解决此问题。

示例 1：

```js
输入：nums = [2,2,3,2]
输出：3
```

示例 2：

```js
输入：nums = [0,1,0,1,0,1,99]
输出：99
```

提示：

- 1 <= nums.length <= 3 \* 104
- -231 <= nums[i] <= 231 - 1
- nums 中，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次

思路
为了满足题目要求的常数级空间复杂度，我们可以使用位运算来解决问题：

1. 初始化变量：定义三个变量 one、two 和 three，用于存储只出现一次、两次和三次的数字的二进制表示。
2. 遍历数组：遍历输入数组 nums 中的每个元素：
   - 对于每个元素，分别更新 one、two 和 three。具体操作为：
     - one 与当前元素进行异或操作，如果当前元素出现了一次或两次，异或结果将保留在 one 中。
     - two 与 one 进行异或操作，如果当前元素出现了两次，异或结果将保留在 two 中。
     - three 与 two 进行异或操作，如果当前元素出现了三次，异或结果将保留在 three 中。
3. 返回结果：由于只出现一次的数字在 one 中，返回 one 作为结果。

时间复杂度：O(n)，其中 n 是数组 nums 的长度。算法需要遍历数组中的每个元素一次。
空间复杂度：O(1)

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function (nums) {
  let one = 0,
    two = 0,
    three = 0;
  for (const num of nums) {
    one = (one ^ num) & ~two;
    two = (two ^ num) & ~three;
    three = (three ^ num) & ~one;
  }
  return one;
};
```
