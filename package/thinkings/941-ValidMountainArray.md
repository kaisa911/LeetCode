# 有效的山脉数组

给定一个整数数组 arr，如果它是有效的山脉数组就返回 true，否则返回 false。

让我们回顾一下，如果 arr 满足下述条件，那么它是一个山脉数组：

arr.length >= 3
在 0 < i < arr.length - 1 条件下，存在 i 使得：
arr[0] < arr[1] < ... arr[i-1] < arr[i]
arr[i] > arr[i+1] > ... > arr[arr.length - 1]

![](https://assets.leetcode.com/uploads/2019/10/20/hint_valid_mountain_array.png)

示例 1：

```js
输入：arr = [2,1]
输出：false
```

示例 2：

```js
输入：arr = [3,5,5]
输出：false
```

示例 3：

```js
输入：arr = [0,3,2,1]
输出：true
```

提示：

- 1 <= arr.length <= 10^4
- 0 <= arr[i] <= 10^4

思路：

拿到这个题目，首先需要明确题目要求判断一个数组是否为山脉数组。解题的初步思路是通过两次扫描来确定数组的递增和递减部分。先从左到右递增扫描找到峰值位置，然后从峰值位置开始向右递减扫描。选择这种方法的理由是比较直观，易于理解和实现，通过逐步扫描数组元素的大小关系来判断是否符合山脉数组的条件。

1. 首先通过一个指针 `i` 从左向右递增扫描数组，找到第一个不满足递增关系的位置，即峰值位置。
2. 然后检查峰值位置是否为数组的第一个或最后一个元素，如果是则直接返回 `false`，因为山脉数组的峰值不能在两端。
3. 从峰值位置开始继续向右递减扫描，如果能够完整扫描到数组末尾，说明是符合要求的山脉数组，返回 `true`；否则返回 `false`。

时间复杂度：O(n)，因为需要遍历数组一次。
空间复杂度：O(1)，只使用了固定的几个变量，不随输入规模变化而变化。

```js
var validMountainArray = function (arr) {
  const N = arr.length;
  let i = 0;

  // 递增扫描
  while (i + 1 < N && arr[i] < arr[i + 1]) {
    i++;
  }

  // 最高点不能是数组的第一个位置或最后一个位置
  if (i === 0 || i === N - 1) {
    return false;
  }

  // 递减扫描
  while (i + 1 < N && arr[i] > arr[i + 1]) {
    i++;
  }

  return i === N - 1;
};
```
