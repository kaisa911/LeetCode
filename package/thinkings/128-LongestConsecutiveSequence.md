# 最长连续序列

给定一个未排序的整数数组 nums ，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。

请你设计并实现时间复杂度为 O(n) 的算法解决此问题。

示例 1：

```javascript
输入：nums = [100,4,200,1,3,2]
输出：4
解释：最长数字连续序列是 [1, 2, 3, 4]。它的长度为 4。
```

示例 2：

```javascript
输入：nums = [0,3,7,2,5,8,4,6,0,1]
输出：9
```

提示：

- 0 <= nums.length <= 10^5
- -10^9 <= nums[i] <= 10^9

思路

1. 初始化：创建一个哈希集合 set，将数组 nums 中的所有元素加入集合。
2. 遍历集合：遍历集合中的每个元素 num。
3. 检查序列起点：对于每个元素 num，检查是否存在 num - 1（即当前元素的前一个元素）。如果不存在，说明 num 可能是一个连续序列的起点。
4. 计算序列长度：如果 num 是序列的起点，开始一个 while 循环，每次循环将 num 增加 1，并检查 num + 1 是否存在于集合中。如果存在，说明序列可以继续延长，同时增加计数器 count。
5. 更新最大长度：在每次遍历结束后，使用 Math.max 函数更新记录的最大序列长度 res。
6. 返回结果：遍历完成后，返回最大长度 res。

时间复杂度：最坏情况下为 O(n)，其中 n 是数组 nums 的长度。在最坏情况下，每个元素都可能是一个序列的起点，并且每个序列都需要遍历一次。
空间复杂度：O(n)，用于存储集合中的所有元素。

```js
var longestConsecutive = function (nums) {
  const set = new Set(nums);
  let res = 0;

  for (let num of set) {
    if (!set.has(num - 1)) {
      let count = 1;
      while (set.has(num + 1)) {
        num += 1;
        count += 1;
      }
      res = Math.max(res, count);
    }
  }
  return res;
};
```
